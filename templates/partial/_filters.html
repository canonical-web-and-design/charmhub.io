<div class="col-3">
  <div class="p-filter" data-js="filter-handler">
    <div class="p-filter__title" data-js='js-shadow-title'>
      Filter ({{ results|length }})
    </div>
    <form data-js="js-shadow-form">
      {% if categories %}
      <ul class="p-filter__list">
        <li class="p-filter__item--title">
          Categories
        </li>
        {% for category in categories %}
        <li class="p-filter__item">
          <input type="checkbox" id="{{ category.slug }}" value="{{ category.slug }}" data-filter-type="category" data-js="filter" {% if active_filter('category', category.slug) %}checked{% endif %}>
          <label for="{{ category.slug }}">{{ category.name }}</label>
        </li>
        {% endfor %}
      </ul>
      {% endif %}
      {% if publisher_list %}
      <ul class="p-filter__list">
        <li class="p-filter__item--title">
          Publisher
        </li>
        {% for publisher in publisher_list %}
        <li class="p-filter__item">
          <input type="checkbox" id="{{ publisher.slug }}" value="{{ publisher.slug }}" data-filter-type="publisher" data-js="filter" {% if active_filter('publisher', publisher.slug) %}checked{% endif %}">
          <label for="{{ publisher.slug }}">{{ publisher.name }}</label>
        </li>
        {% endfor %}
      </ul>
      {% endif %}
      <noscript>
        <button type="submit" class="u-hide--small">Apply Filters</button>
      </noscript>
      <div class="p-filter__controls">
        <button type="reset" class="p-button--neutral" data-js="filter-reset">Reset</button>
        <button class="p-button--positive" data-js="filter-submit">Show results ({{ results|length }})</button>
      </div>
    </form>
  </div>
</div>

<div class="p-layout__sidenav">
  <div class="p-filter" data-js="filter-handler">
    <div class="p-filter__title" data-filters="applied-filters">
      Filters
    </div>
    <form>
      <div class="p-filter__scroll-box">
        {% if categories %}
        <ul class="p-filter__list" style="margin-block-end: 1rem;">
          <li class="p-filter__item--title">
            Categories
          </li>
          {% for category in categories %}
          {% if not category["slug"] in ["other", "featured"] %}
          <li class="p-filter__item" data-filter-type="category" data-js="filter" data-filter-value="{{ category.slug }}" tabindex="0">
            <input type="checkbox" id="{{ category.slug }}" value="{{ category.slug }}" {% if active_filter('category', category.slug) %}checked{% endif %} tabindex="-1">
            <label for="{{ category.slug }}" tabindex="-1">{{ category.name }}</label>
          </li>
          {% endif %}
          {% endfor %}
        </ul>
        {% endif %}
      </div>
      <noscript>
        <button type="submit" class="u-hide--small">Apply Filters</button>
      </noscript>
      <div class="p-filter__controls">
        <button type="reset" class="p-button--neutral" data-js="filter-reset">Reset</button>
        <button class="p-button--positive" data-js="filter-submit">Show results ({{ results|length }})</button>
      </div>
    </form>
  </div>
  <div class="p-filter u-no-padding--top">
    <ul class="p-filter__list has-links">
      <li class="p-filter__item--title u-sv1">
        Useful links
      </li>
      <li class="p-filter__item">
        <a href="/about" class="u-sv1">What is an operator?</a>
      </li>
      <li class="p-filter__item">
        <a href="/publishing" class="u-sv1">How do I publish here?</a>
      </li>
      <li class="p-filter__item">
        <a href="/glossary" class="u-sv1">Glossary</a>
      </li>
    </ul>
  </div>
</div>

<div class="p-layout__main">
  <div class="p-layout__filter-container">
    <div class="p-layout__left">
      <div class="p-muted-heading" id="results-count-container" data-js="filtered-items">Show 0 of 0 items</div>
      <div class="p-layout__sort-mobile">
        <a href="/" data-js="mobile-platform-reveal-button" class="has-icon p-store__button is-always-color-link"><i class="p-icon--filter"></i>Platforms</a>
        <a href="/" data-js="mobile-filter-reveal-button" class="has-icon p-store__button is-always-color-link"><i class="p-icon--filter"></i>Filters</a>
      </div>
    </div>
    <div class="p-layout__right">
      <form action="/" class="p-search-box p-layout__search u-hide--medium u-hide--large" data-js="search-handler-mobile">
        <input type="search" class="p-search-box__input" name="q" aria-label="Search Charmhub" placeholder="Search Charmhub" {% if q %}value="{{ q }}" {% endif %} required />
        <button type="reset" class="p-search-box__reset"><i class="p-icon--close">Clear</i></button>
        <button type="submit" class="p-search-box__button" alt="Search"><i class="p-icon--search">Search</i></button>
      </form>
      <form class="p-form p-form--inline">
        <div class="p-layout__sort-desktop p-form__group">
          <label for="platform" aria-label="Filter platforms" class="p-form__label">Platforms</label>
          <select name="platform" id="platform-handler" data-js="platform-handler" class="p-form__control" value="{{ platform }}" id="platform">
            <option value="all" {% if active_filter('platform', 'all') %}selected{% endif %}>All</option>
            <option value="linux" {% if active_filter('platform', 'linux') %}selected{% endif %}>Linux</option>
            <option value="kubernetes" {% if active_filter('platform', 'kubernetes') %}selected{% endif %}>Kubernetes</option>
          </select>
        </div>
      </form>
    </div>
  </div>
  <div class="p-layout__card-container" id="entity-container">
    <div><i class="p-icon--spinner u-animation--spin"></i> Loading&hellip;</div>
  </div>

  <div class="u-align--center" style="margin-top: 1rem;">
    <a href="?category=all" class="p-button--positive u-hide" id="more-operators">See all operators</a>
  </div>
</div>

<template id="entity-card">
  <div class="p-layout__card u-equal-height">
    <a href="" class="p-card--button">
      <div class="p-card__header">
        <div class="p-card__thumbnail-container">
          <img src="" alt="" width="40" height="40" class="p-card__thumbnail">
        </div>
        <h3 class="p-card__title p-heading--4 u-no-margin--bottom entity-card-title"></h3>
        <p class="u-text--muted u-no-padding--top entity-card-publisher"></p>
      </div>

      <div class="p-card__content">
        <p><small class="entity-card-summary"></small></p>
      </div>

      <div class="p-card__footer">
        <div class="entity-card-icons"></div>
      </div>
    </a>
  </div>
</template>

<template id="results-count">
  Showing <span class="total-results"></span> of <span class="total-charms"></span> items
</template>

<template id="no-results-message">
  <div class="p-notification--information">
    <p class="p-notification__response">
      We couldn't find anything for your search<span class="search-query"></span>.
    </p>
  </div>
</template>

<style>
  .entity-card-title {
    text-transform: capitalize;
  }

  .entity-card-summary {
    display: inline-block;
  }

  .entity-card-summary::first-letter {
    text-transform: uppercase;
  }
</style>
